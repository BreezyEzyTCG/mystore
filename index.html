<!DOCTYPE html>
<html lang="en">
<head>
  <!-- ... existing head content ... -->
  <style>
    /* MODIFIED: Use sticky positioning instead of fixed */
    .site-shell{
      position: sticky;
      top: 0;
      z-index: 1000;
      background: var(--shell);
      width: 100%;
      box-shadow: none;
    }

    /* REMOVED: No longer need this spacer system */
    /* :root{ --heroH: 0px; } */
    /* .page-spacer{ height: var(--heroH); } */

    /* ADDED: Content padding to prevent overlap */
    .container-panel {
      padding-top: 20px; /* Space below sticky header */
    }
  </style>
</head>
<body>
  <!-- ... existing body content ... -->

  <!-- REMOVED: Spacer element is no longer needed -->
  <!-- <div class="page-spacer" id="shellSpacer"></div> -->

  <script>
    // REMOVED: Delete the entire updateShellOffset function
    // function updateShellOffset(){ ... }

    // REMOVED: Delete these lines
    // updateShellOffset();
    // window.addEventListener('load', updateShellOffset);

    // MODIFIED: Remove spacer reference from toggle function
    (function(){
      const hero  = document.querySelector('.hero');
      const btn   = document.getElementById('heroToggle');
      const label = document.getElementById('heroToggleLabel');
      if(!hero || !btn || !label) return;

      function apply(isCollapsed){
        hero.classList.toggle('collapsed', isCollapsed);
        btn.setAttribute('aria-expanded', String(!isCollapsed));
        label.textContent = isCollapsed ? 'Show banner' : 'Hide banner';
      }

      const saved = sessionStorage.getItem('heroCollapsed') === '1';
      apply(saved);

      btn.addEventListener('click', (e)=>{
        e.preventDefault();
        const willCollapse = !hero.classList.contains('collapsed');
        apply(willCollapse);
        sessionStorage.setItem('heroCollapsed', willCollapse ? '1' : '0');
      });
    })();
  </script>
</body>
</html>
